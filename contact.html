<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>Client Contact ‚Äì BrandZone</title>

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #191919;
      color: #f5f5f5;
      margin: 0;
      padding: 40px;
    }

    .wrapper {
      max-width: 780px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 22px;
    }

    h2 {
      margin: 0;
      font-size: 32px;
      font-weight: 700;
      color: #f1f1f1;
    }

    .tagline {
      font-size: 15px;
      color: #b5b5b5;
      margin-top: -10px;
      margin-bottom: 18px;
    }

    /* PROJECT BAR ‚Äì select + code + save */
    .project-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px 16px;
      align-items: flex-end;
      margin-bottom: 8px;
      padding: 14px 18px 16px 18px;
      border-radius: 14px;
      background: #232323;
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .project-row {
      display: flex;
      flex-direction: column;
      min-width: 180px;
      flex: 1;
    }

    .project-bar label {
      font-size: 12px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #bdbdbd;
      margin-bottom: 6px;
    }

    .project-bar select,
    .project-bar input {
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #3c3c3c;
      background: #181818;
      color: #f5f5f5;
      font-size: 14px;
      outline: none;
    }

    .project-bar button {
      padding: 9px 16px;
      border-radius: 999px;
      border: none;
      background: #3b82f6;
      color: #fdfdfd;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
    }

    .project-bar button:hover {
      background: #2563eb;
    }

    .project-note {
      width: 100%;
      font-size: 11px;
      color: #a5a5a5;
      margin-top: 4px;
    }

    .accordion {
      border-radius: 16px;
      background: #2B2B2B;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.06);
      transition: 0.15s ease;
    }

    .accordion:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35);
    }

    .accordion-header {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 22px;
      background: #2F2F2F;
      border: none;
      cursor: pointer;
      color: #fafafa;
      font-size: 16px;
      font-weight: 600;
    }

    .accordion-header span.icon {
      font-size: 18px;
      transition: transform 0.2s ease;
    }

    .accordion.open .accordion-header span.icon {
      transform: rotate(90deg);
    }

    .accordion-body {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.25s ease;
      background: #242424;
      padding: 0 22px;
    }

    .accordion.open .accordion-body {
      padding: 14px 22px 20px 22px;
      max-height: 600px;
    }

    .accordion-body label {
      display: block;
      font-size: 12px;
      letter-spacing: 0.05em;
      margin-top: 12px;
      margin-bottom: 6px;
      color: #bdbdbd;
      text-transform: uppercase;
    }

    .accordion-body input,
    .accordion-body textarea {
      width: 100%;
      padding: 10px 14px;
      border-radius: 8px;
      border: 1px solid #3c3c3c;
      background: #1f1f1f;
      color: #f5f5f5;
      font-size: 15px;
      outline: none;
      margin-bottom: 6px;
    }

    .accordion-body textarea {
      resize: vertical;
      min-height: 60px;
    }

    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px 16px;
      margin-bottom: 6px;
      margin-top: 4px;
    }

    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      color: #e5e5e5;
      cursor: pointer;
    }

    .checkbox-group input[type="checkbox"] {
      width: 16px;
      height: 16px;
      border-radius: 3px;
      border: 1px solid #666;
      background: #1f1f1f;
      appearance: none;
      position: relative;
    }

    .checkbox-group input[type="checkbox"]:checked::before {
      content: "";
      position: absolute;
      inset: 2px;
      background: #3b82f6;
      border-radius: 2px;
    }

    .small-note {
      font-size: 12px;
      color: #a5a5a5;
      margin-bottom: 4px;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <h2>Client contact ‚Äì BrandZone</h2>
    <p class="tagline">Click the grey boxes to reveal the fields to fill out.</p>

    <!-- PROJECT SELECT + CODE + SAVE -->
    <div class="project-bar">
      <div class="project-row">
        <label for="project-select">Saved projects</label>
        <select id="project-select">
          <option value="">‚Äì Select saved project ‚Äì</option>
        </select>
      </div>
      <div class="project-row">
        <label for="project-code-input">Project code</label>
        <input id="project-code-input" type="text" placeholder="Pl. MiniHome_2025_Q1">
      </div>
      <button id="save-project-btn">Save project</button>
      <p class="project-note">
        A projektek √©s az adatok <strong>csak ezen az eszk√∂z√∂n / b√∂ng√©sz≈ëben</strong> t√°rol√≥dnak (localStorage).  
        √öj code + Save = √∫j projekt, a leny√≠l√≥b√≥l v√°lasztva bet√∂lti az ahhoz tartoz√≥ adatokat.
      </p>
    </div>

    <!-- CONTACT PERSON -->
    <div class="accordion">
      <button class="accordion-header">
        üßë Contact person <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Name</label>
        <input type="text" placeholder="Contact person name">

        <label>Form of address</label>
        <input type="text" placeholder="casual / polite">
      </div>
    </div>

    <!-- CONTACT DETAILS -->
    <div class="accordion">
      <button class="accordion-header">
        üìû Contact details <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Phone number</label>
        <input type="text" placeholder="+40 ...">

        <label>E-mail</label>
        <input type="email" placeholder="name@company.com">
      </div>
    </div>

    <!-- WEBSITE & SOCIALS -->
    <div class="accordion">
      <button class="accordion-header">
        üåê Website & Socials <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Website</label>
        <input type="url" placeholder="https://...">

        <label>TikTok</label>
        <input type="url" placeholder="https://www.tiktok.com/@...">

        <label>Facebook</label>
        <input type="url" placeholder="Facebook page link">

        <label>Instagram</label>
        <input type="url" placeholder="@brand">

        <label>YouTube</label>
        <input type="url" placeholder="Channel link">
      </div>
    </div>

    <!-- NEEDS HELP WITH -->
    <div class="accordion">
      <button class="accordion-header">
        üéØ Needs help with <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Problems / pain points</label>
        <textarea placeholder="- Short-form videos, strategy.."></textarea>
      </div>
    </div>

    <!-- PRIMARY COMMUNICATION -->
    <div class="accordion">
      <button class="accordion-header">
        üì¨ Primary communication <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Primary communication</label>
        <div class="checkbox-group">
          <label><input type="checkbox">Email</label>
          <label><input type="checkbox">WhatsApp</label>
        </div>
      </div>
    </div>

    <!-- POTENTIAL COLLAB -->
    <div class="accordion">
      <button class="accordion-header">
        üìä Potential collab <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Potential collab</label>
        <p class="small-note">How much potential do you see in the collaboration?</p>
        <div class="checkbox-group">
          <label><input type="checkbox">High</label>
          <label><input type="checkbox">Medium</label>
          <label><input type="checkbox">Low</label>
        </div>
      </div>
    </div>

    <!-- NOTES -->
    <div class="accordion">
      <button class="accordion-header">
        üìù Notes <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Notes</label>
        <textarea placeholder="Any extra info, meeting notes, vibe, important details..."></textarea>
      </div>
    </div>

    <!-- INDUSTRY -->
    <div class="accordion">
      <button class="accordion-header">
        üí° Industry (Services, Products, Prices) <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Industry</label>
        <textarea placeholder="- Services
- Products
- Price range"></textarea>
      </div>
    </div>

    <!-- EMPLOYEES -->
    <div class="accordion">
      <button class="accordion-header">
        üí° Employees <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>Employees</label>
        <textarea placeholder="- Number of employees
- Key roles / departments"></textarea>
      </div>
    </div>

    <!-- INTEREST -->
    <div class="accordion">
      <button class="accordion-header">
        üí° What are they interested in <span class="icon">‚Ä∫</span>
      </button>
      <div class="accordion-body">
        <label>What are they interested in</label>
        <p class="small-note">What does the lead want to achieve?</p>
        <textarea placeholder="Brand awareness, TikTok growth, more leads etc."></textarea>
      </div>
    </div>

  </div>

  <script>
    // Accordion: egyszerre egy legyen nyitva
    document.querySelectorAll('.accordion-header').forEach(header => {
      header.addEventListener('click', () => {
        const accordion = header.parentElement;
        const isOpen = accordion.classList.contains('open');
        document.querySelectorAll('.accordion').forEach(acc => acc.classList.remove('open'));
        if (!isOpen) accordion.classList.add('open');
      });
    });

    // PROJEKT V√ÅLASZT√ì + MENT√âS (localStorage)
    (function () {
      const select = document.getElementById('project-select');
      const codeInput = document.getElementById('project-code-input');
      const saveBtn = document.getElementById('save-project-btn');

      const fields = Array.from(
        document.querySelectorAll('.accordion-body input, .accordion-body textarea, .accordion-body input[type="checkbox"]')
      );

      const LIST_KEY = 'bz_project_list_v1';
      const PREFIX = 'bz_project_v1_';

      let currentCode = '';

      function loadProjectList() {
        const raw = localStorage.getItem(LIST_KEY);
        if (!raw) return [];
        try {
          const list = JSON.parse(raw);
          return Array.isArray(list) ? list : [];
        } catch (e) {
          return [];
        }
      }

      function saveProjectList(list) {
        localStorage.setItem(LIST_KEY, JSON.stringify(list));
      }

      function keyFor(code, index) {
        return PREFIX + code + '_' + index;
      }

      function clearFields() {
        fields.forEach(f => {
          if (f.type === 'checkbox') {
            f.checked = false;
          } else {
            f.value = '';
          }
        });
      }

      function loadFieldsFor(code) {
        fields.forEach((field, index) => {
          const key = keyFor(code, index);
          const saved = localStorage.getItem(key);
          if (saved !== null) {
            if (field.type === 'checkbox') {
              field.checked = saved === 'true';
            } else {
              field.value = saved;
            }
          } else {
            if (field.type === 'checkbox') {
              field.checked = false;
            } else {
              field.value = '';
            }
          }
        });
      }

      function saveFieldsFor(code) {
        fields.forEach((field, index) => {
          const key = keyFor(code, index);
          if (field.type === 'checkbox') {
            localStorage.setItem(key, field.checked ? 'true' : 'false');
          } else {
            localStorage.setItem(key, field.value);
          }
        });
      }

      function refreshSelect() {
        const list = loadProjectList();
        while (select.options.length > 1) {
          select.remove(1);
        }
        list.forEach(code => {
          const opt = document.createElement('option');
          opt.value = code;
          opt.textContent = code;
          select.appendChild(opt);
        });
        if (currentCode && list.includes(currentCode)) {
          select.value = currentCode;
        } else {
          select.value = '';
        }
      }

      // Save gomb
      saveBtn.addEventListener('click', () => {
        const code = codeInput.value.trim();
        if (!code) {
          alert('Adj meg egy project code-ot ment√©s el≈ëtt.');
          return;
        }
        currentCode = code;

        const list = loadProjectList();
        if (!list.includes(code)) {
          list.push(code);
          saveProjectList(list);
        }

        saveFieldsFor(code);
        refreshSelect();
      });

      // Projekt v√°laszt√≥
      select.addEventListener('change', () => {
        const code = select.value;
        currentCode = code;
        codeInput.value = code;
        clearFields();
        if (code) {
          loadFieldsFor(code);
        }
      });

      // Auto-ment√©s: ha m√°r van currentCode
      fields.forEach((field, index) => {
        const handler = () => {
          if (!currentCode) return;
          const key = keyFor(currentCode, index);
          if (field.type === 'checkbox') {
            localStorage.setItem(key, field.checked ? 'true' : 'false');
          } else {
            localStorage.setItem(key, field.value);
          }
        };
        field.addEventListener('input', handler);
        field.addEventListener('change', handler);
      });

      // Init: csak a projektlista t√∂lt≈ëdik, nem v√°laszt automatikusan
      refreshSelect();
    })();
  </script>
</body>
</html>
